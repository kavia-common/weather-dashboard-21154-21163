{"is_source_file": true, "format": "JavaScript", "description": "This file provides helper functions to interact with the OpenWeather API, including city suggestions and fetching weather data. It manages environment variables for API keys, handles fetch responses with error parsing, and exports functions used elsewhere in the weather dashboard application.", "external_files": [".env"], "external_methods": ["process.env.NODE_ENV", "process.env.REACT_APP_OPENWEATHER_API_KEY", "fetch"], "published": ["owSuggestCities", "owOneCall"], "classes": [], "methods": [{"name": "warnIfMissingKeyOnce()", "description": "Emits a warning once if the OpenWeather API key is missing in the environment variables.", "scope": "", "scopeKind": ""}, {"name": "ensureOk(response, defaultMessage)", "description": "Parses the fetch response; throws an error with details if the response is not successful.", "scope": "", "scopeKind": ""}, {"name": "owSuggestCities(query, limit = 5)", "description": "Suggests city names based on a query string using OpenWeather's geocoding API.", "scope": "", "scopeKind": ""}, {"name": "owOneCall(lat, lon)", "description": "Fetches current weather and forecast data for specified latitude and longitude using OpenWeather's One Call API.", "scope": "", "scopeKind": ""}], "calls": ["warnIfMissingKeyOnce()", "ensureOk(r, 'Failed to fetch suggestions')", "ensureOk(r, 'Failed to fetch weather')", "fetch(url)"], "search-terms": ["OpenWeather API helper", "geocoding city suggestions", "weather forecast fetch", "API key environment variable", "One Call weather data", "React environment", "fetch error handling"], "state": 2, "file_id": 13, "knowledge_revision": 60, "git_revision": "326a243c9314a816972e71b4d0da0ea10ef58ddd", "revision_history": [{"29": ""}, {"51": "81849b733866fff455e4981b99f38c589d28d97e"}, {"57": "5a7dc454f0b919f5630106389652fa4e97801f9f"}, {"60": "326a243c9314a816972e71b4d0da0ea10ef58ddd"}], "ctags": [{"_type": "tag", "name": "ICON_BASE", "path": "/home/kavia/workspace/code-generation/weather-dashboard-21154-21163/weather_dashboard_frontend/src/api/openWeather.js", "pattern": "/^const ICON_BASE = 'https:\\/\\/openweathermap.org\\/img\\/wn';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "OW_API_PROD", "path": "/home/kavia/workspace/code-generation/weather-dashboard-21154-21163/weather_dashboard_frontend/src/api/openWeather.js", "pattern": "/^const OW_API_PROD = 'https:\\/\\/api.openweathermap.org';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "OW_BASE", "path": "/home/kavia/workspace/code-generation/weather-dashboard-21154-21163/weather_dashboard_frontend/src/api/openWeather.js", "pattern": "/^const OW_BASE = isDev ? '' : OW_API_PROD;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "didWarnMissingKey", "path": "/home/kavia/workspace/code-generation/weather-dashboard-21154-21163/weather_dashboard_frontend/src/api/openWeather.js", "pattern": "/^let didWarnMissingKey = false;$/", "language": "JavaScript", "kind": "variable"}, {"_type": "tag", "name": "ensureOk", "path": "/home/kavia/workspace/code-generation/weather-dashboard-21154-21163/weather_dashboard_frontend/src/api/openWeather.js", "pattern": "/^async function ensureOk(response, defaultMessage) {$/", "language": "JavaScript", "kind": "function", "signature": "(response, defaultMessage)"}, {"_type": "tag", "name": "isDev", "path": "/home/kavia/workspace/code-generation/weather-dashboard-21154-21163/weather_dashboard_frontend/src/api/openWeather.js", "pattern": "/^const isDev = process.env.NODE_ENV === 'development';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "owOneCall", "path": "/home/kavia/workspace/code-generation/weather-dashboard-21154-21163/weather_dashboard_frontend/src/api/openWeather.js", "pattern": "/^export async function owOneCall(lat, lon) {$/", "language": "JavaScript", "kind": "function", "signature": "(lat, lon)"}, {"_type": "tag", "name": "owSuggestCities", "path": "/home/kavia/workspace/code-generation/weather-dashboard-21154-21163/weather_dashboard_frontend/src/api/openWeather.js", "pattern": "/^export async function owSuggestCities(query, limit = 5) {$/", "language": "JavaScript", "kind": "function", "signature": "(query, limit = 5)"}, {"_type": "tag", "name": "warnIfMissingKeyOnce", "path": "/home/kavia/workspace/code-generation/weather-dashboard-21154-21163/weather_dashboard_frontend/src/api/openWeather.js", "pattern": "/^function warnIfMissingKeyOnce() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}], "hash": "a19dc3d3b5fd9c05de6ffe70abf45017", "format-version": 4, "code-base-name": "weather_dashboard_frontend", "filename": "weather_dashboard_frontend/src/api/openWeather.js", "fields": [{"name": "let didWarnMissingKey = false;", "scope": "", "scopeKind": "", "description": "unavailable"}]}