{"is_source_file": true, "format": "JavaScript", "description": "React hook 'useWeather' manages geolocation, city suggestions with debounce, fetches current and forecast weather data from different APIs, and provides interface methods for components to interact with weather data and location. It uses environment variables, geolocation APIs, and external weather API calls.", "external_files": ["../api/openWeather", "../api/openMeteo"], "external_methods": ["owSuggestCities", "owOneCall", "nominatimSuggest", "openMeteoDaily"], "published": ["useWeather"], "classes": [], "methods": [{"name": "useWeather()", "description": "Custom React hook that manages weather fetching, geolocation, suggestions, and state management relevant to weather data.", "scope": "", "scopeKind": ""}, {"name": "getBrowserGeolocation(timeout = 5000)", "description": "Promisified function to get user's current geolocation with timeout.", "scope": "", "scopeKind": ""}, {"name": "humanizeError(err, fallback = 'Failed to load weather')", "description": "Converts various error messages into user-friendly error strings.", "scope": "", "scopeKind": ""}], "calls": ["getBrowserGeolocation", "setLocation", "setWeather", "setIsLoading", "setError", "setSearchText", "setSuggestions", "fetchWeatherFor", "owSuggestCities", "nominatimSuggest", "owOneCall", "openMeteoDaily"], "search-terms": ["useWeather", "weather hook", "geolocation", "city suggestions", "weather forecast", "API key handling", "debounce suggestions", "country-specific weather", "weather state management"], "state": 2, "file_id": 17, "knowledge_revision": 59, "git_revision": "5a7dc454f0b919f5630106389652fa4e97801f9f", "revision_history": [{"37": ""}, {"52": "81849b733866fff455e4981b99f38c589d28d97e"}, {"53": "81849b733866fff455e4981b99f38c589d28d97e"}, {"54": "81849b733866fff455e4981b99f38c589d28d97e"}, {"55": "81849b733866fff455e4981b99f38c589d28d97e"}, {"59": "5a7dc454f0b919f5630106389652fa4e97801f9f"}], "ctags": [{"_type": "tag", "name": "DEFAULT_CITY", "path": "/home/kavia/workspace/code-generation/weather-dashboard-21154-21163/weather_dashboard_frontend/src/hooks/useWeather.js", "pattern": "/^const DEFAULT_CITY = { name: 'San Francisco', country: 'US', lat: 37.7749, lon: -122.4194 };$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "country", "path": "/home/kavia/workspace/code-generation/weather-dashboard-21154-21163/weather_dashboard_frontend/src/hooks/useWeather.js", "pattern": "/^const DEFAULT_CITY = { name: 'San Francisco', country: 'US', lat: 37.7749, lon: -122.4194 };$/", "language": "JavaScript", "kind": "property", "scope": "DEFAULT_CITY", "scopeKind": "class"}, {"_type": "tag", "name": "getBrowserGeolocation", "path": "/home/kavia/workspace/code-generation/weather-dashboard-21154-21163/weather_dashboard_frontend/src/hooks/useWeather.js", "pattern": "/^function getBrowserGeolocation(timeout = 5000) {$/", "language": "JavaScript", "kind": "function", "signature": "(timeout = 5000)"}, {"_type": "tag", "name": "hasOWKey", "path": "/home/kavia/workspace/code-generation/weather-dashboard-21154-21163/weather_dashboard_frontend/src/hooks/useWeather.js", "pattern": "/^const hasOWKey = !!process.env.REACT_APP_OPENWEATHER_API_KEY;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "humanizeError", "path": "/home/kavia/workspace/code-generation/weather-dashboard-21154-21163/weather_dashboard_frontend/src/hooks/useWeather.js", "pattern": "/^function humanizeError(err, fallback = 'Failed to load weather') {$/", "language": "JavaScript", "kind": "function", "signature": "(err, fallback = 'Failed to load weather')"}, {"_type": "tag", "name": "lat", "path": "/home/kavia/workspace/code-generation/weather-dashboard-21154-21163/weather_dashboard_frontend/src/hooks/useWeather.js", "pattern": "/^const DEFAULT_CITY = { name: 'San Francisco', country: 'US', lat: 37.7749, lon: -122.4194 };$/", "language": "JavaScript", "kind": "property", "scope": "DEFAULT_CITY", "scopeKind": "class"}, {"_type": "tag", "name": "lon", "path": "/home/kavia/workspace/code-generation/weather-dashboard-21154-21163/weather_dashboard_frontend/src/hooks/useWeather.js", "pattern": "/^const DEFAULT_CITY = { name: 'San Francisco', country: 'US', lat: 37.7749, lon: -122.4194 };$/", "language": "JavaScript", "kind": "property", "scope": "DEFAULT_CITY", "scopeKind": "class"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/weather-dashboard-21154-21163/weather_dashboard_frontend/src/hooks/useWeather.js", "pattern": "/^const DEFAULT_CITY = { name: 'San Francisco', country: 'US', lat: 37.7749, lon: -122.4194 };$/", "language": "JavaScript", "kind": "property", "scope": "DEFAULT_CITY", "scopeKind": "class"}, {"_type": "tag", "name": "useWeather", "path": "/home/kavia/workspace/code-generation/weather-dashboard-21154-21163/weather_dashboard_frontend/src/hooks/useWeather.js", "pattern": "/^export default function useWeather() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}], "hash": "c5ec8c56fb7a74d28a9249d10ba576fe", "format-version": 4, "code-base-name": "weather_dashboard_frontend", "filename": "weather_dashboard_frontend/src/hooks/useWeather.js", "fields": [{"name": "const DEFAULT_CITY = { name: 'San Francisco', country: 'US', lat: 37.7749, lon: -122.4194 };", "scope": "DEFAULT_CITY", "scopeKind": "class", "description": "unavailable"}]}